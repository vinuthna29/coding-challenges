encode the request and response using json structs 
proper logging